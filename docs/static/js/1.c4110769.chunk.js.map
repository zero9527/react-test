{"version":3,"sources":["components/mdToolbar/index.js","views/mdEditor/index.js","webpack:///./src/views/mdEditor/mdEditor.less?7981","components/mdPreview/index.js","webpack:///./src/components/mdPreview/md-preview.less?bee3","components/mdPreview/md-preview.less","views/mdEditor/mdEditor.less","webpack:///./src/components/mdToolbar/md-toolbar.less?6ed0","components/mdToolbar/md-toolbar.less"],"names":["MdToolBar","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","toolHandler","item","onToolbarClick","state","_this2","toolbar","key","value","label","icon","faImage","faLink","faBold","faList","faListOl","faCode","faQuoteRight","react_default","a","createElement","className","concat","styles","map","onClick","title","index_es","Component","mdEditor","componentDidMount","localtext","localStorage","getItem","setState","mdtext","JSON","parse","mdtextRaw","fetch","then","res","text","textareaClick","e","cursorHandTop","clientY","textareaBlur","cursorPos","target","selectionStart","textareaChange","setItem","stringify","toolItem","cursorPosStart","cursorPosEnd","_this$state","substring","length","textarea","document","querySelector","setTimeout","setSelectionRange","focus","cancelEdit","window","confirm","editor","rows","placeholder","onChange","onBlur","faFeatherAlt","cursor","style","top","mdPreview","isEdit","mdToolbar_MdToolBar","content","__webpack_require__","module","i","options","hmr","transform","insertInto","undefined","locals","exports","marked","require","MdPreview","D_code_react_t1_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","D_code_react_t1_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","D_code_react_t1_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","markedInit","hljs","registerLanguage","javascript","less","xml","setOptions","renderer","Renderer","highlight","code","highlightAuto","langPrefix","pedantic","gfm","tables","breaks","sanitize","smartLists","smartypants","xhtml","previewHandler","previewVisible","react__WEBPACK_IMPORTED_MODULE_5___default","isDetail","dangerouslySetInnerHTML","__html","push","md-container","md-content","handle-btn","md-detail","md-preview","cancel-edit","md-toolbar","tool-item","codebg"],"mappings":"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","file":"static/js/1.c4110769.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {\r\n  faImage,\r\n  faLink,\r\n  faBold,\r\n  faListOl,\r\n  faList,\r\n  faCode,\r\n  faQuoteRight\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport styles from './md-toolbar.less';\r\n\r\n// 快捷操作栏\r\nexport default class MdToolBar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  // 点击事件\r\n  toolHandler = item => {\r\n    this.props.onToolbarClick(item);\r\n  };\r\n\r\n  render() {\r\n    const toolbar = [\r\n      {\r\n        key: 'pic',\r\n        value: '![图片加载失败显示的名称](图片地址)',\r\n        label: '图片',\r\n        icon: faImage\r\n      },\r\n      {\r\n        key: 'link',\r\n        value: '[链接名称](链接地址)',\r\n        label: '链接',\r\n        icon: faLink\r\n      },\r\n      {\r\n        key: 'H2',\r\n        value: '\\n## ',\r\n        label: 'H2',\r\n        icon: ''\r\n      },\r\n      {\r\n        key: 'H3',\r\n        value: '\\n### ',\r\n        label: 'H3',\r\n        icon: ''\r\n      },\r\n      {\r\n        key: 'H4',\r\n        value: '\\n#### ',\r\n        label: 'H4',\r\n        icon: ''\r\n      },\r\n      {\r\n        key: 'bold',\r\n        value: '****',\r\n        label: '加粗',\r\n        icon: faBold\r\n      },\r\n      {\r\n        key: 'ul',\r\n        value: '\\n* ',\r\n        label: '无序列表',\r\n        icon: faList\r\n      },\r\n      {\r\n        key: 'ol',\r\n        value: '\\n1. ',\r\n        label: '有序列表',\r\n        icon: faListOl\r\n      },\r\n      {\r\n        key: 'precode',\r\n        value: '\\n```\\n\\n```\\n',\r\n        label: '代码块',\r\n        icon: faCode\r\n      },\r\n      {\r\n        key: 'code',\r\n        value: '``',\r\n        label: 'code',\r\n        icon: ''\r\n      },\r\n      {\r\n        key: 'quote',\r\n        value: '\\n> ',\r\n        label: '引用',\r\n        icon: faQuoteRight\r\n      }\r\n    ];\r\n\r\n    return (\r\n      <div className={`center-content ${styles['md-toolbar']}`}>\r\n        {toolbar.map(item => (\r\n          <div\r\n            key={item.key}\r\n            className={styles['tool-item']}\r\n            onClick={() => this.toolHandler(item)}\r\n            title={item.label}\r\n          >\r\n            {item.icon ? (\r\n              <FontAwesomeIcon icon={item.icon} />\r\n            ) : (\r\n              <span className={item.key === 'code' ? styles['codebg'] : ''}>\r\n                {item.label}\r\n              </span>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport MdPreview from '../../components/mdPreview';\r\nimport MdToolBar from '../../components/mdToolbar';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faFeatherAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport styles from './mdEditor.less';\r\n\r\n// 编辑器\r\nexport default class mdEditor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      mdtextRaw: '', // 原始的编辑数据\r\n      mdtext: '', // 当前编辑数据\r\n      cursorPos: null, // 光标位置\r\n      cursorHandTop: null //输入光标距顶部的距离\r\n    };\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    const localtext = localStorage.getItem('mdtext');\r\n    if (localtext) {\r\n      this.setState({\r\n        mdtext: JSON.parse(localtext),\r\n        mdtextRaw: JSON.parse(localtext)\r\n      });\r\n    } else {\r\n      fetch('./static/_promise_This_is.md')\r\n        .then(res => res.text())\r\n        .then(res => {\r\n          this.setState({\r\n            mdtext: res\r\n          });\r\n        });\r\n    }\r\n  };\r\n\r\n  // 输入框获得焦点\r\n  textareaClick = e => {\r\n    this.setState({\r\n      cursorHandTop: e.clientY - 6\r\n    });\r\n  };\r\n\r\n  // 输入框失去焦点\r\n  textareaBlur = e => {\r\n    this.setState({\r\n      cursorPos: e.target.selectionStart // 光标位置\r\n    });\r\n  };\r\n\r\n  // 输入框输入\r\n  textareaChange = e => {\r\n    let text = e.target.value;\r\n    this.setState({\r\n      mdtext: text\r\n    });\r\n    localStorage.setItem('mdtext', JSON.stringify(text));\r\n  };\r\n\r\n  // 点击快捷栏 某一功能\r\n  onToolbarClick = toolItem => {\r\n    let { mdtext, cursorPos } = this.state;\r\n    // 在当前光标位置插入快捷操作符\r\n    mdtext =\r\n      mdtext.substring(0, cursorPos) +\r\n      toolItem.value +\r\n      mdtext.substring(cursorPos, mdtext.length);\r\n    this.setState({\r\n      mdtext\r\n    });\r\n    let cursorPosStart, cursorPosEnd; // 光标起始、结束位置\r\n    let textarea = document.querySelector(`.${styles.textarea}`);\r\n    if (\r\n      toolItem.key === 'precode' ||\r\n      toolItem.key === 'code' ||\r\n      toolItem.key === 'bold'\r\n    ) {\r\n      // 代码\r\n      cursorPosStart = cursorPosEnd =\r\n        this.state.cursorPos + toolItem.value.length / 2;\r\n    } else if (toolItem.key === 'link') {\r\n      // 链接\r\n      cursorPosStart = this.state.cursorPos + 7;\r\n      cursorPosEnd = this.state.cursorPos + toolItem.value.length - 1;\r\n    } else if (toolItem.key === 'pic') {\r\n      // 图片\r\n      cursorPosStart = this.state.cursorPos + 15;\r\n      cursorPosEnd = this.state.cursorPos + toolItem.value.length - 1;\r\n    } else {\r\n      // 其他\r\n      cursorPosStart = cursorPosEnd =\r\n        this.state.cursorPos + toolItem.value.length;\r\n    }\r\n    setTimeout(() => {\r\n      // 延迟 使得光标在当前 插入快捷方式之后 相应的位置或选中相应的文本\r\n      textarea.setSelectionRange(cursorPosStart, cursorPosEnd);\r\n      // 输入框获得焦点\r\n      textarea.focus();\r\n    }, 0);\r\n  };\r\n\r\n  // 恢复\r\n  cancelEdit = () => {\r\n    const confirm = window.confirm('确定取消吗？点击确定将不会保存！');\r\n    if (!confirm) return;\r\n    localStorage.setItem('mdtext', JSON.stringify(this.state.mdtextRaw));\r\n    this.setState({\r\n      mdtext: this.state.mdtextRaw\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { cursorHandTop } = this.state;\r\n    return (\r\n      <div className={`center-content ${styles.editor}`}>\r\n        <h3 className={styles.title}>使用marked.js+highlight.js的编辑器</h3>\r\n        <textarea\r\n          rows=\"20\"\r\n          className={styles.textarea}\r\n          placeholder=\"输入内容，支持markdown语法\"\r\n          value={this.state.mdtext || ''}\r\n          onClick={e => this.textareaClick(e)}\r\n          onChange={this.textareaChange}\r\n          onBlur={this.textareaBlur}\r\n        />\r\n        {cursorHandTop !== null && (\r\n          <FontAwesomeIcon\r\n            icon={faFeatherAlt}\r\n            className={styles.cursor}\r\n            style={{ top: cursorHandTop }}\r\n          />\r\n        )}\r\n        {this.state.mdtext !== this.state.mdtextRaw && (\r\n          <button className={styles['cancel-edit']} onClick={this.cancelEdit}>\r\n            退出编辑\r\n          </button>\r\n        )}\r\n        {this.state.mdtext && <MdPreview isEdit mdtext={this.state.mdtext} />}\r\n        <MdToolBar onToolbarClick={this.onToolbarClick} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--6-oneOf-7-1!../../../node_modules/less-loader/dist/cjs.js!./mdEditor.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--6-oneOf-7-1!../../../node_modules/less-loader/dist/cjs.js!./mdEditor.less\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js??ref--6-oneOf-7-1!../../../node_modules/less-loader/dist/cjs.js!./mdEditor.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from 'react';\r\n\r\nimport hljs from 'highlight.js/lib/highlight';\r\nimport javascript from 'highlight.js/lib/languages/javascript';\r\nimport less from 'highlight.js/lib/languages/less';\r\nimport xml from 'highlight.js/lib/languages/xml';\r\n// import 'highlight.js/styles/googlecode.css';\r\n// import 'highlight.js/styles/darcula.css';\r\n// import 'highlight.js/styles/github.css';\r\nimport 'highlight.js/styles/atom-one-dark.css';\r\nimport styles from './md-preview.less';\r\n\r\nconst marked = require('marked');\r\n\r\n// 使用marked.js+highlight.js的编辑器\r\nexport default class MdPreview extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.markedInit();\r\n    this.state = {\r\n      previewVisible: false\r\n    };\r\n  }\r\n\r\n  componentDidMount = () => {};\r\n\r\n  // marked初始化\r\n  markedInit = () => {\r\n    hljs.registerLanguage('javascript', javascript);\r\n    hljs.registerLanguage('less', less);\r\n    hljs.registerLanguage('xml', xml);\r\n    // Set options\r\n    // `highlight` example uses `highlight.js`\r\n    marked.setOptions({\r\n      renderer: new marked.Renderer(),\r\n      highlight: function(code) {\r\n        return hljs.highlightAuto(code).value;\r\n      },\r\n      langPrefix: '',\r\n      pedantic: false,\r\n      gfm: true,\r\n      tables: true,\r\n      breaks: false,\r\n      sanitize: false,\r\n      smartLists: true,\r\n      smartypants: false,\r\n      xhtml: false\r\n    });\r\n  };\r\n\r\n  // 显示、关闭预览\r\n  previewHandler = () => {\r\n    this.setState({\r\n      previewVisible: !this.state.previewVisible\r\n    });\r\n  };\r\n\r\n  render() {\r\n    // props.isEdit：是否编辑\r\n    // prop.isDetail：是否浏览详情\r\n    return (\r\n      <div\r\n        className={`${styles['md-container']} ${\r\n          this.props.isEdit ? styles['md-preview'] : styles['md-detail']\r\n        }`}\r\n      >\r\n        {(this.props.isDetail || this.state.previewVisible) && (\r\n          <section\r\n            text=\"注意：实际显示效果可能会有出入！\"\r\n            className={styles['md-content']}\r\n            dangerouslySetInnerHTML={{\r\n              __html: marked(this.props.mdtext)\r\n            }}\r\n          />\r\n        )}\r\n        {this.props.isEdit && (\r\n          <button\r\n            className={styles['handle-btn']}\r\n            onClick={this.previewHandler}\r\n          >\r\n            {this.state.previewVisible ? '关闭预览' : '显示预览'}\r\n          </button>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--6-oneOf-7-1!../../../node_modules/less-loader/dist/cjs.js!./md-preview.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--6-oneOf-7-1!../../../node_modules/less-loader/dist/cjs.js!./md-preview.less\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js??ref--6-oneOf-7-1!../../../node_modules/less-loader/dist/cjs.js!./md-preview.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".md-container__jvjVK .md-content__2d7u5 {\\n  position: relative;\\n  padding: 10px 16px;\\n  background: #fefefe;\\n  box-sizing: border-box;\\n}\\n.md-container__jvjVK .md-content__2d7u5::before {\\n  content: attr(text);\\n  position: absolute;\\n  top: 2px;\\n  left: 10px;\\n  color: #FF5722;\\n  font-size: 12px;\\n}\\n.md-container__jvjVK .md-content__2d7u5 pre {\\n  padding: 14px 6px;\\n  border-radius: 2px;\\n  color: #abb2bf;\\n  background: #282c34;\\n  overflow: auto;\\n}\\n.md-container__jvjVK .md-content__2d7u5 pre code::before {\\n  content: attr(class);\\n  display: block;\\n  position: absolute;\\n  right: 22px;\\n  margin-top: -12px;\\n  text-align: right;\\n  color: #666;\\n}\\n.md-container__jvjVK .md-content__2d7u5 img {\\n  max-width: 100%;\\n  height: auto;\\n  max-height: 400px;\\n}\\n.md-container__jvjVK .md-content__2d7u5 blockquote {\\n  color: #666;\\n  padding: 1px 23px;\\n  margin: 22px 0;\\n  border-left: 4px solid #cbcbcb;\\n  background-color: #f8f8f8;\\n}\\n.md-container__jvjVK .md-content__2d7u5 p > code {\\n  color: #ff5722;\\n  padding: 0 4px;\\n  margin: 0 2px;\\n  border-radius: 2px;\\n  background: #f1f1f1;\\n}\\n.md-container__jvjVK .handle-btn__BIETV {\\n  position: absolute;\\n  bottom: 80px;\\n  right: 10px;\\n  margin: 4px 0;\\n}\\n.md-detail__2NJon {\\n  font-size: 90%;\\n}\\n.md-detail__2NJon .md-content__2d7u5 {\\n  width: 100%;\\n  height: 100%;\\n  position: relative;\\n}\\n.md-detail__2NJon pre {\\n  font-size: 70%;\\n}\\n.md-preview__HPgG5 {\\n  font-size: 70%;\\n}\\n.md-preview__HPgG5 .md-content__2d7u5 {\\n  position: absolute;\\n  width: 60vmin;\\n  max-width: 430px;\\n  height: 60%;\\n  max-height: 600px;\\n  bottom: 120px;\\n  right: 10px;\\n  border-radius: 4px;\\n  box-shadow: -1px 1px 4px rgba(150, 150, 150, 0.6);\\n  overflow: auto;\\n  z-index: 999;\\n}\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"md-container\": \"md-container__jvjVK\",\n\t\"md-content\": \"md-content__2d7u5\",\n\t\"handle-btn\": \"handle-btn__BIETV\",\n\t\"md-detail\": \"md-detail__2NJon\",\n\t\"md-preview\": \"md-preview__HPgG5\"\n};","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".editor__2ucLc {\\n  height: 100%;\\n  width: 100%;\\n  position: relative;\\n  overflow: hidden;\\n}\\n.editor__2ucLc .title__2qX37 {\\n  margin: 0;\\n  padding: 16px 4px;\\n  border-bottom: 1px solid #eee;\\n  background: #fafafa;\\n}\\n.editor__2ucLc .textarea__3tppl {\\n  width: 100%;\\n  height: calc(100% - 130px);\\n  padding: 6px 12px 6px 20px;\\n  border: none;\\n  outline: none;\\n  box-sizing: border-box;\\n}\\n.editor__2ucLc .textarea__3tppl:focus {\\n  outline: 1px solid #2196f3;\\n}\\n.editor__2ucLc .cursor__2MgQD {\\n  position: absolute;\\n  left: 0;\\n  z-index: 10;\\n  color: #2196f3;\\n}\\n.editor__2ucLc .cancel-edit__18Ory {\\n  position: absolute;\\n  right: 10px;\\n  top: 45px;\\n}\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"editor\": \"editor__2ucLc\",\n\t\"title\": \"title__2qX37\",\n\t\"textarea\": \"textarea__3tppl\",\n\t\"cursor\": \"cursor__2MgQD\",\n\t\"cancel-edit\": \"cancel-edit__18Ory\"\n};","\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--6-oneOf-7-1!../../../node_modules/less-loader/dist/cjs.js!./md-toolbar.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--6-oneOf-7-1!../../../node_modules/less-loader/dist/cjs.js!./md-toolbar.less\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js??ref--6-oneOf-7-1!../../../node_modules/less-loader/dist/cjs.js!./md-toolbar.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".md-toolbar__2RjbD {\\n  width: 100%;\\n  position: fixed;\\n  bottom: 0;\\n  left: 0;\\n  padding: 0 10px;\\n  box-sizing: border-box;\\n  overflow-x: auto;\\n  white-space: nowrap;\\n  color: #666;\\n  font-weight: bold;\\n  background: #fff;\\n}\\n.md-toolbar__2RjbD .tool-item__3_tMi {\\n  position: relative;\\n  display: inline-block;\\n  padding: 18px 10px;\\n}\\n.md-toolbar__2RjbD .tool-item__3_tMi:not(:last-of-type) {\\n  margin-right: 10px;\\n}\\n.md-toolbar__2RjbD .tool-item__3_tMi:hover {\\n  color: #8bb9df;\\n  cursor: pointer;\\n}\\n.md-toolbar__2RjbD .tool-item__3_tMi:active {\\n  color: #1272c0;\\n}\\n.md-toolbar__2RjbD .tool-item__3_tMi:active::before {\\n  content: attr(title);\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  margin: auto 0;\\n  color: #999;\\n  font-size: 12px;\\n  text-align: center;\\n}\\n.md-toolbar__2RjbD .codebg__v_orY {\\n  padding: 0 4px;\\n  border-radius: 2px;\\n  background: #f1f1f1;\\n}\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"md-toolbar\": \"md-toolbar__2RjbD\",\n\t\"tool-item\": \"tool-item__3_tMi\",\n\t\"codebg\": \"codebg__v_orY\"\n};"],"sourceRoot":""}