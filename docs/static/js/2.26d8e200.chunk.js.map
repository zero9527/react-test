{"version":3,"sources":["components/export/index.js","views/noteDetail/index.js","webpack:///./src/views/noteDetail/note-detail.less?410a","components/mdPreview/index.js","webpack:///./src/components/mdPreview/md-preview.less?bee3","components/mdPreview/md-preview.less","views/noteDetail/note-detail.less","webpack:///./src/components/export/export.less?d361","components/export/export.less"],"names":["Export","props","preview","maxCodeWidth","_useState","useState","_useState2","Object","slicedToArray","offsetW","setOffsetW","_useState3","_useState4","offsetH","setOffsetH","_useState5","_useState6","pngUrl","setPngUrl","_useState7","_useState8","mdUrl","setMdUrl","_useState9","_useState10","exportName","setExportName","useEffect","codeContent","document","querySelector","querySelectorAll","codeWidth","Array","from","map","codeTag","offsetWidth","Math","max","apply","toConsumableArray","offsetHeight","exportfn","console","log","type","textContent","substr","replace","html2canvas","scale","windowWidth","useCORS","then","canvas","temppng","toDataURL","URL","window","webkitURL","mozURL","md","localStorage","getItem","tempmd","Blob","JSON","parse","createObjectURL","btnPCSpace","isMobile","react_default","a","createElement","className","styles","export","width","height","style","left","href","download","mobileReg","NoteDetail","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","componentDidMount","setTimeout","addEventListener","resize","localtext","setState","mdtext","fetch","res","text","substring","includes","setItem","stringify","componentDidUpdate","state","isResize","bodyWidth","min","body","clientWidth","test","navigator","userAgent","concat","_this2","_this$state","title","mdPreview","isDetail","edit","right","onClick","history","push","Component","content","__webpack_require__","module","i","options","hmr","transform","insertInto","undefined","locals","exports","marked","require","MdPreview","D_code_react_t1_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","D_code_react_t1_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","D_code_react_t1_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","markedInit","hljs","registerLanguage","javascript","less","xml","setOptions","renderer","Renderer","highlight","code","highlightAuto","value","langPrefix","pedantic","gfm","tables","breaks","sanitize","smartLists","smartypants","xhtml","previewHandler","previewVisible","react__WEBPACK_IMPORTED_MODULE_5___default","isEdit","dangerouslySetInnerHTML","__html","md-container","md-content","handle-btn","md-detail","md-preview","note-detail","export-canvas","img","export-btn"],"mappings":"mNAKe,SAASA,EAAOC,GAAO,IAMhCC,EAASC,EANuBC,EACNC,mBAAS,GADHC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAC7BK,EAD6BH,EAAA,GACpBI,EADoBJ,EAAA,GAAAK,EAENN,mBAAS,GAFHO,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAE7BE,EAF6BD,EAAA,GAEpBE,EAFoBF,EAAA,GAAAG,EAGRV,mBAAS,IAHDW,EAAAT,OAAAC,EAAA,EAAAD,CAAAQ,EAAA,GAG7BE,EAH6BD,EAAA,GAGrBE,EAHqBF,EAAA,GAAAG,EAIVd,mBAAS,IAJCe,EAAAb,OAAAC,EAAA,EAAAD,CAAAY,EAAA,GAI7BE,EAJ6BD,EAAA,GAItBE,EAJsBF,EAAA,GAAAG,EAKAlB,mBAAS,IALTmB,EAAAjB,OAAAC,EAAA,EAAAD,CAAAgB,EAAA,GAK7BE,EAL6BD,EAAA,GAKjBE,EALiBF,EAAA,GAQpCG,oBAAU,WAIR,IAAIC,GAFJ1B,EAAU2B,SAASC,cAAc,wBAEPC,iBAAiB,YACvCC,EAAYC,MAAMC,KAAKN,GAAaO,IAAI,SAAAC,GAAO,OAAIA,EAAQC,cAS/D,OARAlC,EAAemC,KAAKC,IAALC,MAAAF,KAAI/B,OAAAkC,EAAA,EAAAlC,CAAQyB,IAC3BtB,EAAWP,GACXW,EAAWZ,EAAQwC,cAEnBC,EAAS,OACTA,EAAS,MAGF,kBAAMC,QAAQC,IAAI,oBAGxB,IAGH,IAAMF,EAAW,SAAAG,GAMf,GAHApB,EAAcxB,EAAQ6C,YAAYC,OAAO,EAAG,IAAIC,QAAQ,IAAK,MAGhD,QAATH,EACFI,IAAYhD,EAAS,CACnBiD,MAAO,EAEPC,YAAajD,EAAe,GAC5BkD,SAAS,IACRC,KAAK,SAASC,GACf,IAAIC,EAAUD,EAAOE,UAAU,aAC/BvC,EAAUsC,UAIT,GAAa,OAATV,EAAe,CACtB,IAAIY,EAAMC,OAAOD,KAAOC,OAAOC,WAAaD,OAAOE,OAC/CC,EAAKC,aAAaC,QAAQ,UAC1BC,EAAS,IAAIC,KAAK,CAACC,KAAKC,MAAMN,IAAM,CACtChB,KAAM,yBAERxB,EAASoC,EAAIW,gBAAgBJ,MAKzBK,EAAyBrE,EAAzBqE,WAAYC,EAAatE,EAAbsE,SAEpB,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOC,QACrBL,EAAAC,EAAAC,cAAA,UACEC,UAAWC,IAAO,iBAClBE,MAAOrE,EACPsE,OAAQlE,IAETI,GAAUQ,GACT+C,EAAAC,EAAAC,cAAA,KACEC,UAAWC,IAAO,cAClBI,MAAO,CAAEC,KAAMV,EAAW,OAASD,GACnCY,KAAMjE,EACNkE,SAAU1D,EAAa,QAEvB+C,EAAAC,EAAAC,cAAA,2CAGHrD,GAASI,GACR+C,EAAAC,EAAAC,cAAA,KACEC,UAAWC,IAAO,cAClBI,MAAO,CAAEC,KAAMV,EAAW,OAASD,GACnCY,KAAM7D,EACN8D,SAAU1D,EAAa,OAEvB+C,EAAAC,EAAAC,cAAA,yGCnFV,IAAIU,EAAY,kJAEKC,cACnB,SAAAA,EAAYpF,GAAO,IAAAqF,EAAA,OAAA/E,OAAAgF,EAAA,EAAAhF,CAAAiF,KAAAH,IACjBC,EAAA/E,OAAAkF,EAAA,EAAAlF,CAAAiF,KAAAjF,OAAAmF,EAAA,EAAAnF,CAAA8E,GAAAM,KAAAH,KAAMvF,KAUR2F,kBAAoB,WAClBC,WAAW,WACTlC,OAAOmC,iBAAiB,SAAUR,EAAKS,SACtC,GACH,IAAMC,EAAYjC,aAAaC,QAAQ,UACnCgC,EACFV,EAAKW,SAAS,CACZC,OAAQ/B,KAAKC,MAAM4B,KAKrBG,MAAM,wBACH7C,KAAK,SAAA8C,GAAG,OAAIA,EAAIC,SAChB/C,KAAK,SAAA8C,GACAA,EAAIE,UAAU,EAAG,IAAIC,SAAS,qBAClCxC,aAAayC,QAAQ,SAAUrC,KAAKsC,UAAUL,IAC9Cd,EAAKW,SAAS,CACZC,OAAQE,QA7BCd,EAmCnBoB,mBAAqB,aAnCFpB,EAqCnBS,OAAS,WACP,IAAIT,EAAKqB,MAAMC,SAAf,CAEA,IAAIC,EAAYvE,KAAKwE,IAAIjF,SAASkF,KAAKC,YAAa,KACpD1B,EAAKW,SACH,CACEW,UAAU,EACVrC,SAAUa,EAAU6B,KAAKC,UAAUC,WACnC7C,WAAU,QAAA8C,OAAU,GAAV,QAAAA,OAAwBP,EAAY,EAAI,GAAxC,QAEZ,WACEvB,EAAKW,SAAS,CACZW,UAAU,QA/ChBtB,EAAKqB,MAAQ,CACXT,OAAQ,KACR3B,SAAUa,EAAU6B,KAAKC,UAAUC,WAEnC7C,WAAU,QAAA8C,OAAU,GAAV,QAAAA,OAAwB,IAAxB,OACVR,UAAU,GAPKtB,wEAuDV,IAAA+B,EAAA7B,KAAA8B,EAC0B9B,KAAKmB,MAA9BpC,EADD+C,EACC/C,SAAUD,EADXgD,EACWhD,WAClB,OACEE,EAAAC,EAAAC,cAAA,OAAKC,UAAS,kBAAAyC,OAAoBxC,IAAO,iBACvCJ,EAAAC,EAAAC,cAAA,MAAIC,UAAWC,IAAO2C,OAAtB,4BACC/B,KAAKmB,MAAMT,QAAU1B,EAAAC,EAAAC,cAAC8C,EAAA,EAAD,CAAWC,UAAQ,EAACvB,OAAQV,KAAKmB,MAAMT,SAC7D1B,EAAAC,EAAAC,cAAA,UACEC,UAAWC,IAAO8C,KAClB1C,MAAO,CAAE2C,MAAOpD,EAAW,OAASD,GACpCsD,QAAS,kBAAMP,EAAKpH,MAAM4H,QAAQC,KAAK,eAHzC,gBAOCtC,KAAKmB,MAAMT,QACV1B,EAAAC,EAAAC,cAAC1E,EAAD,CAAQsE,WAAYA,EAAYC,SAAUA,YAtEZwD,iCCNxC,IAAAC,EAAcC,EAAQ,IAEtB,kBAAAD,MAAA,EAA4CE,EAAAC,EAASH,EAAA,MAOrD,IAAAI,EAAA,CAAeC,KAAA,EAEfC,eAPAA,EAQAC,gBAAAC,GAEaP,EAAQ,GAARA,CAA8DD,EAAAI,GAE3EJ,EAAAS,SAAAP,EAAAQ,QAAAV,EAAAS,6NCLME,EAASC,EAAQ,IAGFC,cACnB,SAAAA,EAAY5I,GAAO,IAAAqF,EAAA,OAAA/E,OAAAuI,EAAA,EAAAvI,CAAAiF,KAAAqD,IACjBvD,EAAA/E,OAAAwI,EAAA,EAAAxI,CAAAiF,KAAAjF,OAAAyI,EAAA,EAAAzI,CAAAsI,GAAAlD,KAAAH,KAAMvF,KAOR2F,kBAAoB,aARDN,EAWnB2D,WAAa,WACXC,IAAKC,iBAAiB,aAAcC,KACpCF,IAAKC,iBAAiB,OAAQE,KAC9BH,IAAKC,iBAAiB,MAAOG,KAG7BX,EAAOY,WAAW,CAChBC,SAAU,IAAIb,EAAOc,SACrBC,UAAW,SAASC,GAClB,OAAOT,IAAKU,cAAcD,GAAME,OAElCC,WAAY,GACZC,UAAU,EACVC,KAAK,EACLC,QAAQ,EACRC,QAAQ,EACRC,UAAU,EACVC,YAAY,EACZC,aAAa,EACbC,OAAO,KA9BQhF,EAmCnBiF,eAAiB,WACfjF,EAAKW,SAAS,CACZuE,gBAAiBlF,EAAKqB,MAAM6D,kBAnC9BlF,EAAK2D,aACL3D,EAAKqB,MAAQ,CACX6D,gBAAgB,GAJDlF,wEA4CjB,OACEmF,EAAAhG,EAAAC,cAAA,OACEC,UAAS,GAAAyC,OAAKxC,IAAO,gBAAZ,KAAAwC,OACP5B,KAAKvF,MAAMyK,OAAS9F,IAAO,cAAgBA,IAAO,gBAGlDY,KAAKvF,MAAMwH,UAAYjC,KAAKmB,MAAM6D,iBAClCC,EAAAhG,EAAAC,cAAA,WACE2B,KAAK,mGACL1B,UAAWC,IAAO,cAClB+F,wBAAyB,CACvBC,OAAQjC,EAAOnD,KAAKvF,MAAMiG,WAI/BV,KAAKvF,MAAMyK,QACVD,EAAAhG,EAAAC,cAAA,UACEC,UAAWC,IAAO,cAClBgD,QAASpC,KAAK+E,gBAEb/E,KAAKmB,MAAM6D,eAAiB,2BAAS,oCAjEXzC,iCCdvC,IAAAC,EAAcC,EAAQ,IAEtB,kBAAAD,MAAA,EAA4CE,EAAAC,EAASH,EAAA,MAOrD,IAAAI,EAAA,CAAeC,KAAA,EAEfC,eAPAA,EAQAC,gBAAAC,GAEaP,EAAQ,GAARA,CAA8DD,EAAAI,GAE3EJ,EAAAS,SAAAP,EAAAQ,QAAAV,EAAAS,6BCjBAC,EAAAR,EAAAQ,QAA2BT,EAAQ,GAARA,EAA0D,IAKrFH,KAAA,CAAcI,EAAAC,EAAS,uuDAAquD,KAG5vDO,EAAAD,OAAA,CACAoC,eAAA,sBACAC,aAAA,oBACAC,aAAA,oBACAC,YAAA,mBACAC,aAAA,0CCbAvC,EAAAR,EAAAQ,QAA2BT,EAAQ,GAARA,EAA0D,IAKrFH,KAAA,CAAcI,EAAAC,EAAS,mSAAiS,KAGxTO,EAAAD,OAAA,CACAyC,cAAA,qBACA3D,MAAA,eACAG,KAAA,mCCVA,IAAAM,EAAcC,EAAQ,IAEtB,kBAAAD,MAAA,EAA4CE,EAAAC,EAASH,EAAA,MAOrD,IAAAI,EAAA,CAAeC,KAAA,EAEfC,eAPAA,EAQAC,gBAAAC,GAEaP,EAAQ,GAARA,CAA8DD,EAAAI,GAE3EJ,EAAAS,SAAAP,EAAAQ,QAAAV,EAAAS,6BCjBAC,EAAAR,EAAAQ,QAA2BT,EAAQ,GAARA,EAA0D,IAKrFH,KAAA,CAAcI,EAAAC,EAAS,+WAA6W,KAGpYO,EAAAD,OAAA,CACA5D,OAAA,gBACAsG,gBAAA,uBACAC,IAAA,aACAC,aAAA","file":"static/js/2.26d8e200.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport html2canvas from 'html2canvas';\r\nimport styles from './export.less';\r\n\r\n// 导出md文件、生成图片(html2canvas)\r\nexport default function Export(props) {\r\n  const [offsetW, setOffsetW] = useState(0);\r\n  const [offsetH, setOffsetH] = useState(0);\r\n  const [pngUrl, setPngUrl] = useState('');\r\n  const [mdUrl, setMdUrl] = useState('');\r\n  const [exportName, setExportName] = useState('');\r\n  let preview, maxCodeWidth;\r\n\r\n  useEffect(() => {\r\n    // 显示的内容\r\n    preview = document.querySelector('[class^=md-content]');\r\n    // 获取 code 部分的最大宽度，防止导出图片时，横向滚动条的部分截断\r\n    let codeContent = preview.querySelectorAll('pre>code');\r\n    let codeWidth = Array.from(codeContent).map(codeTag => codeTag.offsetWidth);\r\n    maxCodeWidth = Math.max(...codeWidth);\r\n    setOffsetW(maxCodeWidth);\r\n    setOffsetH(preview.offsetHeight);\r\n\r\n    exportfn('png');\r\n    exportfn('md');\r\n\r\n    // 回调的函数会在 unmount 时执行\r\n    return () => console.log('Export unmount');\r\n\r\n    // 传入第二个参数， 防止 update 时执行\r\n  }, []);\r\n\r\n  // 导出处理\r\n  const exportfn = type => {\r\n    // type: 'md'/'png'\r\n    // 设置文件名称\r\n    setExportName(preview.textContent.substr(0, 16).replace(' ', '_'));\r\n\r\n    // 导出图片\r\n    if (type === 'png') {\r\n      html2canvas(preview, {\r\n        scale: 1, // window.devicePixelRatio\r\n        // 截取的window宽度，使得横向滚动条不出现，避免截取丢失滚动条之外的内容\r\n        windowWidth: maxCodeWidth + 80,\r\n        useCORS: true // 图片跨域\r\n      }).then(function(canvas) {\r\n        let temppng = canvas.toDataURL('image/png');\r\n        setPngUrl(temppng);\r\n      });\r\n    }\r\n    // 导出 md文件\r\n    else if (type === 'md') {\r\n      let URL = window.URL || window.webkitURL || window.mozURL;\r\n      let md = localStorage.getItem('mdtext');\r\n      let tempmd = new Blob([JSON.parse(md)], {\r\n        type: 'application/markdown'\r\n      });\r\n      setMdUrl(URL.createObjectURL(tempmd));\r\n    }\r\n  };\r\n\r\n  // 按钮距左右两侧的距离\r\n  const { btnPCSpace, isMobile } = props;\r\n\r\n  return (\r\n    <div className={styles.export}>\r\n      <canvas\r\n        className={styles['export-canvas']}\r\n        width={offsetW}\r\n        height={offsetH}\r\n      />\r\n      {pngUrl && exportName && (\r\n        <a\r\n          className={styles['export-btn']}\r\n          style={{ left: isMobile ? '10px' : btnPCSpace }}\r\n          href={pngUrl}\r\n          download={exportName + '.png'}\r\n        >\r\n          <button>导出图片</button>\r\n        </a>\r\n      )}\r\n      {mdUrl && exportName && (\r\n        <a\r\n          className={styles['export-btn']}\r\n          style={{ left: isMobile ? '10px' : btnPCSpace }}\r\n          href={mdUrl}\r\n          download={exportName + '.md'}\r\n        >\r\n          <button>导出md文件</button>\r\n        </a>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport MdPreview from '../../components/mdPreview';\r\nimport Export from '../../components/export';\r\nimport styles from './note-detail.less';\r\n\r\nlet mobileReg = /(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i;\r\n\r\nexport default class NoteDetail extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      mdtext: null,\r\n      isMobile: mobileReg.test(navigator.userAgent), // 是否移动端\r\n      // 按钮距左右两侧的距离，768是内容最大宽度\r\n      btnPCSpace: `calc(${100 / 2}% - ${768 / 2 - 10}px)`,\r\n      isResize: false\r\n    };\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    setTimeout(() => {\r\n      window.addEventListener('resize', this.resize);\r\n    }, 0);\r\n    const localtext = localStorage.getItem('mdtext');\r\n    if (localtext) {\r\n      this.setState({\r\n        mdtext: JSON.parse(localtext)\r\n      });\r\n    } else {\r\n      // 默认显示为md文件\r\n      // 这里文件名不能下划线'_'开头，不然本地可以获取到，但是github page上面会404\r\n      fetch('./promise_This_is.md')\r\n        .then(res => res.text())\r\n        .then(res => {\r\n          if (res.substring(0, 20).includes('<!DOCTYPE html>')) return;\r\n          localStorage.setItem('mdtext', JSON.stringify(res));\r\n          this.setState({\r\n            mdtext: res\r\n          });\r\n        });\r\n    }\r\n  };\r\n\r\n  componentDidUpdate = () => {};\r\n\r\n  resize = () => {\r\n    if (this.state.isResize) return;\r\n    // PC端最大宽度768，小于768则取小的数\r\n    let bodyWidth = Math.min(document.body.clientWidth, 768);\r\n    this.setState(\r\n      {\r\n        isResize: true,\r\n        isMobile: mobileReg.test(navigator.userAgent),\r\n        btnPCSpace: `calc(${100 / 2}% - ${bodyWidth / 2 - 10}px)`\r\n      },\r\n      () => {\r\n        this.setState({\r\n          isResize: false\r\n        });\r\n      }\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { isMobile, btnPCSpace } = this.state;\r\n    return (\r\n      <div className={`center-content ${styles['note-detail']}`}>\r\n        <h3 className={styles.title}>查看详情</h3>\r\n        {this.state.mdtext && <MdPreview isDetail mdtext={this.state.mdtext} />}\r\n        <button\r\n          className={styles.edit}\r\n          style={{ right: isMobile ? '10px' : btnPCSpace }}\r\n          onClick={() => this.props.history.push('/mdEditor')}\r\n        >\r\n          编辑\r\n        </button>\r\n        {this.state.mdtext && (\r\n          <Export btnPCSpace={btnPCSpace} isMobile={isMobile} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--6-oneOf-7-1!../../../node_modules/less-loader/dist/cjs.js!./note-detail.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--6-oneOf-7-1!../../../node_modules/less-loader/dist/cjs.js!./note-detail.less\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js??ref--6-oneOf-7-1!../../../node_modules/less-loader/dist/cjs.js!./note-detail.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from 'react';\r\n\r\nimport hljs from 'highlight.js/lib/highlight';\r\nimport javascript from 'highlight.js/lib/languages/javascript';\r\nimport less from 'highlight.js/lib/languages/less';\r\nimport xml from 'highlight.js/lib/languages/xml';\r\n// import 'highlight.js/styles/googlecode.css';\r\n// import 'highlight.js/styles/darcula.css';\r\n// import 'highlight.js/styles/github.css';\r\nimport 'highlight.js/styles/atom-one-dark.css';\r\nimport styles from './md-preview.less';\r\n\r\nconst marked = require('marked');\r\n\r\n// 使用marked.js+highlight.js的编辑器\r\nexport default class MdPreview extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.markedInit();\r\n    this.state = {\r\n      previewVisible: false\r\n    };\r\n  }\r\n\r\n  componentDidMount = () => {};\r\n\r\n  // marked初始化\r\n  markedInit = () => {\r\n    hljs.registerLanguage('javascript', javascript);\r\n    hljs.registerLanguage('less', less);\r\n    hljs.registerLanguage('xml', xml);\r\n    // Set options\r\n    // `highlight` example uses `highlight.js`\r\n    marked.setOptions({\r\n      renderer: new marked.Renderer(),\r\n      highlight: function(code) {\r\n        return hljs.highlightAuto(code).value;\r\n      },\r\n      langPrefix: '',\r\n      pedantic: false,\r\n      gfm: true,\r\n      tables: true,\r\n      breaks: false,\r\n      sanitize: false,\r\n      smartLists: true,\r\n      smartypants: false,\r\n      xhtml: false\r\n    });\r\n  };\r\n\r\n  // 显示、关闭预览\r\n  previewHandler = () => {\r\n    this.setState({\r\n      previewVisible: !this.state.previewVisible\r\n    });\r\n  };\r\n\r\n  render() {\r\n    // props.isEdit：是否编辑\r\n    // prop.isDetail：是否浏览详情\r\n    return (\r\n      <div\r\n        className={`${styles['md-container']} ${\r\n          this.props.isEdit ? styles['md-preview'] : styles['md-detail']\r\n        }`}\r\n      >\r\n        {(this.props.isDetail || this.state.previewVisible) && (\r\n          <section\r\n            text=\"注意：实际显示效果可能会有出入！\"\r\n            className={styles['md-content']}\r\n            dangerouslySetInnerHTML={{\r\n              __html: marked(this.props.mdtext)\r\n            }}\r\n          />\r\n        )}\r\n        {this.props.isEdit && (\r\n          <button\r\n            className={styles['handle-btn']}\r\n            onClick={this.previewHandler}\r\n          >\r\n            {this.state.previewVisible ? '关闭预览' : '显示预览'}\r\n          </button>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--6-oneOf-7-1!../../../node_modules/less-loader/dist/cjs.js!./md-preview.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--6-oneOf-7-1!../../../node_modules/less-loader/dist/cjs.js!./md-preview.less\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js??ref--6-oneOf-7-1!../../../node_modules/less-loader/dist/cjs.js!./md-preview.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".md-container__jvjVK .md-content__2d7u5 {\\n  position: relative;\\n  padding: 10px 16px;\\n  background: #fefefe;\\n  box-sizing: border-box;\\n}\\n.md-container__jvjVK .md-content__2d7u5::before {\\n  content: attr(text);\\n  position: absolute;\\n  top: 2px;\\n  left: 10px;\\n  color: #FF5722;\\n  font-size: 12px;\\n}\\n.md-container__jvjVK .md-content__2d7u5 pre {\\n  padding: 14px 6px;\\n  border-radius: 2px;\\n  color: #abb2bf;\\n  background: #282c34;\\n  overflow: auto;\\n}\\n.md-container__jvjVK .md-content__2d7u5 pre code::before {\\n  content: attr(class);\\n  display: block;\\n  position: absolute;\\n  right: 22px;\\n  margin-top: -12px;\\n  text-align: right;\\n  color: #666;\\n}\\n.md-container__jvjVK .md-content__2d7u5 img {\\n  max-width: 100%;\\n  height: auto;\\n  max-height: 400px;\\n}\\n.md-container__jvjVK .md-content__2d7u5 blockquote {\\n  color: #666;\\n  padding: 1px 23px;\\n  margin: 22px 0;\\n  border-left: 4px solid #cbcbcb;\\n  background-color: #f8f8f8;\\n}\\n.md-container__jvjVK .md-content__2d7u5 p > code {\\n  color: #ff5722;\\n  padding: 0 4px;\\n  margin: 0 2px;\\n  border-radius: 2px;\\n  background: #f1f1f1;\\n}\\n.md-container__jvjVK .handle-btn__BIETV {\\n  position: absolute;\\n  bottom: 80px;\\n  right: 10px;\\n  margin: 4px 0;\\n}\\n.md-detail__2NJon {\\n  font-size: 90%;\\n}\\n.md-detail__2NJon .md-content__2d7u5 {\\n  width: 100%;\\n  height: 100%;\\n  position: relative;\\n}\\n.md-detail__2NJon pre {\\n  font-size: 70%;\\n}\\n.md-preview__HPgG5 {\\n  font-size: 70%;\\n}\\n.md-preview__HPgG5 .md-content__2d7u5 {\\n  position: absolute;\\n  width: 60vmin;\\n  max-width: 430px;\\n  height: 60%;\\n  max-height: 600px;\\n  bottom: 120px;\\n  right: 10px;\\n  border-radius: 4px;\\n  box-shadow: -1px 1px 4px rgba(150, 150, 150, 0.6);\\n  overflow: auto;\\n  z-index: 999;\\n}\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"md-container\": \"md-container__jvjVK\",\n\t\"md-content\": \"md-content__2d7u5\",\n\t\"handle-btn\": \"handle-btn__BIETV\",\n\t\"md-detail\": \"md-detail__2NJon\",\n\t\"md-preview\": \"md-preview__HPgG5\"\n};","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".note-detail__29saN {\\n  height: 100%;\\n  overflow: auto;\\n}\\n.note-detail__29saN .title__2MK_d {\\n  margin: 0;\\n  padding: 16px 4px;\\n  border-bottom: 1px solid #eee;\\n  background: #fafafa;\\n}\\n.note-detail__29saN .edit__275ih {\\n  position: fixed;\\n  bottom: 50px;\\n  right: 10px;\\n}\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"note-detail\": \"note-detail__29saN\",\n\t\"title\": \"title__2MK_d\",\n\t\"edit\": \"edit__275ih\"\n};","\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--6-oneOf-7-1!../../../node_modules/less-loader/dist/cjs.js!./export.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--6-oneOf-7-1!../../../node_modules/less-loader/dist/cjs.js!./export.less\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js??ref--6-oneOf-7-1!../../../node_modules/less-loader/dist/cjs.js!./export.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".export__3KN0C .export-canvas__2WASu {\\n  display: none;\\n  padding: 12px 6px;\\n  border-radius: 2px;\\n  color: #abb2bf;\\n  background: #282c34;\\n}\\n.export__3KN0C .img__2X_EQ {\\n  display: none;\\n}\\n.export__3KN0C .export-btn__27l1Q {\\n  position: fixed;\\n  bottom: 50px;\\n  left: 10px;\\n}\\n.export__3KN0C .export-btn__27l1Q:nth-of-type(1) {\\n  bottom: 80px;\\n}\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"export\": \"export__3KN0C\",\n\t\"export-canvas\": \"export-canvas__2WASu\",\n\t\"img\": \"img__2X_EQ\",\n\t\"export-btn\": \"export-btn__27l1Q\"\n};"],"sourceRoot":""}