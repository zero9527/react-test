{"version":3,"sources":["views/noteDetail/index.js","webpack:///./src/views/noteDetail/note-detail.less?410a","components/mdPreview/index.js","webpack:///./src/components/mdPreview/md-preview.less?bee3","components/mdPreview/md-preview.less","views/noteDetail/note-detail.less"],"names":["NoteDetail","props","_this","Object","D_code_react_t1_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","D_code_react_t1_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","D_code_react_t1_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","componentDidMount","localtext","localStorage","getItem","setState","mdtext","JSON","parse","state","_this2","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","concat","styles","title","_components_mdPreview__WEBPACK_IMPORTED_MODULE_6__","isDetail","edit","onClick","history","push","Component","content","__webpack_require__","module","i","options","hmr","transform","insertInto","undefined","locals","exports","marked","require","MdPreview","markedInit","hljs","registerLanguage","javascript","less","xml","setOptions","renderer","Renderer","highlight","code","highlightAuto","value","pedantic","gfm","tables","breaks","sanitize","smartLists","smartypants","xhtml","previewHandler","previewVisible","isEdit","text","dangerouslySetInnerHTML","__html","md-container","md-content","handle-btn","md-detail","md-preview","note-detail"],"mappings":"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","file":"static/js/2.d1d30dde.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport MdPreview from '../../components/mdPreview';\r\nimport styles from './note-detail.less';\r\n\r\nexport default class NoteDetail extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      mdtext: null\r\n    };\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    const localtext = localStorage.getItem('mdtext');\r\n    if (localtext) {\r\n      this.setState({\r\n        mdtext: JSON.parse(localtext)\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={`center-content ${styles['note-detail']}`}>\r\n        <h3 className={styles.title}>详情</h3>\r\n        {this.state.mdtext && <MdPreview isDetail mdtext={this.state.mdtext} />}\r\n        <button\r\n          className={styles.edit}\r\n          onClick={() => this.props.history.push('/mdEditor')}\r\n        >\r\n          编辑\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--6-oneOf-7-1!../../../node_modules/less-loader/dist/cjs.js!./note-detail.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--6-oneOf-7-1!../../../node_modules/less-loader/dist/cjs.js!./note-detail.less\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js??ref--6-oneOf-7-1!../../../node_modules/less-loader/dist/cjs.js!./note-detail.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from 'react';\r\n\r\nimport hljs from 'highlight.js/lib/highlight';\r\nimport javascript from 'highlight.js/lib/languages/javascript';\r\nimport less from 'highlight.js/lib/languages/less';\r\nimport xml from 'highlight.js/lib/languages/xml';\r\n// import 'highlight.js/styles/googlecode.css';\r\n// import 'highlight.js/styles/darcula.css';\r\n// import 'highlight.js/styles/github.css';\r\nimport 'highlight.js/styles/atom-one-dark.css';\r\nimport styles from './md-preview.less';\r\n\r\nconst marked = require('marked');\r\n\r\n// 使用marked.js+highlight.js的编辑器\r\nexport default class MdPreview extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.markedInit();\r\n    this.state = {\r\n      previewVisible: false\r\n    };\r\n  }\r\n\r\n  componentDidMount = () => {};\r\n\r\n  // marked初始化\r\n  markedInit = () => {\r\n    hljs.registerLanguage('javascript', javascript);\r\n    hljs.registerLanguage('less', less);\r\n    hljs.registerLanguage('xml', xml);\r\n    // Set options\r\n    // `highlight` example uses `highlight.js`\r\n    marked.setOptions({\r\n      renderer: new marked.Renderer(),\r\n      highlight: function(code) {\r\n        return hljs.highlightAuto(code).value;\r\n      },\r\n      pedantic: false,\r\n      gfm: true,\r\n      tables: true,\r\n      breaks: false,\r\n      sanitize: false,\r\n      smartLists: true,\r\n      smartypants: false,\r\n      xhtml: false\r\n    });\r\n  };\r\n\r\n  // 显示、关闭预览\r\n  previewHandler = () => {\r\n    this.setState({\r\n      previewVisible: !this.state.previewVisible\r\n    });\r\n  };\r\n\r\n  render() {\r\n    // props.isEdit：是否编辑\r\n    // prop.isDetail：是否浏览详情\r\n    return (\r\n      <div\r\n        className={`${styles['md-container']} ${\r\n          this.props.isEdit ? styles['md-preview'] : styles['md-detail']\r\n        }`}\r\n      >\r\n        {(this.props.isDetail || this.state.previewVisible) && (\r\n          <section\r\n            text=\"注意：实际显示效果可能会有出入！\"\r\n            className={styles['md-content']}\r\n            dangerouslySetInnerHTML={{\r\n              __html: marked(this.props.mdtext)\r\n            }}\r\n          />\r\n        )}\r\n        {this.props.isEdit && (\r\n          <button\r\n            className={styles['handle-btn']}\r\n            onClick={this.previewHandler}\r\n          >\r\n            {this.state.previewVisible ? '关闭预览' : '显示预览'}\r\n          </button>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--6-oneOf-7-1!../../../node_modules/less-loader/dist/cjs.js!./md-preview.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--6-oneOf-7-1!../../../node_modules/less-loader/dist/cjs.js!./md-preview.less\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js??ref--6-oneOf-7-1!../../../node_modules/less-loader/dist/cjs.js!./md-preview.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".md-container__jvjVK .md-content__2d7u5 {\\n  padding: 10px;\\n  font-size: 70%;\\n  background: #fefefe;\\n  box-sizing: border-box;\\n}\\n.md-container__jvjVK .md-content__2d7u5::before {\\n  content: attr(text);\\n  position: absolute;\\n  top: 0;\\n  left: 10px;\\n  color: #FF5722;\\n  font-size: 12px;\\n}\\n.md-container__jvjVK .md-content__2d7u5 pre {\\n  padding: 6px;\\n  border-radius: 2px;\\n  color: #abb2bf;\\n  background: #282c34;\\n  overflow: auto;\\n}\\n.md-container__jvjVK .md-content__2d7u5 img {\\n  max-width: 100%;\\n  height: auto;\\n  max-height: 400px;\\n}\\n.md-container__jvjVK .md-content__2d7u5 blockquote {\\n  color: #666;\\n  padding: 1px 23px;\\n  margin: 22px 0;\\n  border-left: 4px solid #cbcbcb;\\n  background-color: #f8f8f8;\\n}\\n.md-container__jvjVK .md-content__2d7u5 p > code {\\n  color: #2196f3;\\n  padding: 0 2px;\\n  margin: 0 2px;\\n  border-radius: 2px;\\n  background: #ddd;\\n}\\n.md-container__jvjVK .handle-btn__BIETV {\\n  position: absolute;\\n  bottom: 100px;\\n  right: 10px;\\n  margin: 4px 0;\\n}\\n.md-detail__2NJon .md-content__2d7u5 {\\n  width: 100%;\\n  height: 100%;\\n  padding: 10px 16px;\\n  position: relative;\\n}\\n.md-preview__HPgG5 .md-content__2d7u5 {\\n  position: absolute;\\n  width: 60%;\\n  max-width: 430px;\\n  height: 60%;\\n  max-height: 600px;\\n  bottom: 140px;\\n  right: 10px;\\n  border-radius: 4px;\\n  box-shadow: -1px 1px 4px rgba(150, 150, 150, 0.6);\\n  overflow: auto;\\n  z-index: 999;\\n}\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"md-container\": \"md-container__jvjVK\",\n\t\"md-content\": \"md-content__2d7u5\",\n\t\"handle-btn\": \"handle-btn__BIETV\",\n\t\"md-detail\": \"md-detail__2NJon\",\n\t\"md-preview\": \"md-preview__HPgG5\"\n};","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".note-detail__29saN .title__2MK_d {\\n  margin: 0;\\n  padding: 16px 4px;\\n  border-bottom: 1px solid #eee;\\n  background: #fafafa;\\n}\\n.note-detail__29saN .edit__275ih {\\n  position: fixed;\\n  bottom: 50px;\\n  right: 10px;\\n}\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"note-detail\": \"note-detail__29saN\",\n\t\"title\": \"title__2MK_d\",\n\t\"edit\": \"edit__275ih\"\n};"],"sourceRoot":""}